<h1 id="basic-data-analysis-and-plotting-with-chatgpt-and-r">Basic data
analysis and plotting with ChatGPT and R</h1>
<h2 id="what-is-the-haven-project">What is the HAVEN project?</h2>
<p>To help with the analyses that we will be working on, it makes sense
to firstly understand what the study (HAVEN) is trying to understand (at
least in part). To summarise, we are looking to understand how the brain
changes over time, and how memory function is affected by these changes.
We look to understand these changes by using a technique called
functional magnetic resonance imaging (fMRI), which measures brain
activity whilst older adults complete an episodic memory task.</p>
<p>You should firstly familiarise yourself with the HAVEN project, using
the files available within the folder.</p>
<p>Here are some questions for you to answer:</p>
<ol type="1">
<li>What are we interested with understanding as part of the study?</li>
<li>What is episodic memory? Why are we looking at that
specifically?</li>
<li>How does episodic memory change as we age? Why?</li>
<li>What are we making people do in the scanner? Why did we choose for
them to do this specifically?</li>
<li>How can we measure how ‘well’ people do at the task?</li>
<li>What factors do you think will affect this?</li>
</ol>
<p>And specifically relating to neuroimaging:</p>
<ol type="1">
<li>What brain regions are we interested in and why?</li>
<li>What brain regions are involved with episodic memory?</li>
<li>How do these brain regions change over time?</li>
<li>What are the methods that we are using?</li>
<li>What is MRI? What is fMRI? Why do we use both? What is the
difference?</li>
<li>What is the importance of our research in the long term?</li>
</ol>
<p>In your folder, you should have access to several files including
data, information sheets and the workbook materials:</p>
<pre><code>├── data
│   ├── correct_rt_data.csv
│   ├── participant_data.csv
│   └── rt_data.csv
├── information
│   ├── HAVEN.pptx
│   └── HAVEN_information_sheet.pdf
├── workbook
│   ├── answers.Rmd
│   └── workbook.md</code></pre>
<p>The HAVEN information sheet and PowerPoint provides information about
the HAVEN study for you to work with, but a simple Google will help for
understanding some of the topics. The <a
href="https://research.reading.ac.uk/cinn/take-part/haven/">HAVEN
webpage</a> may also be useful.</p>
<p>• If you decide to have a read through these, just focus on the
brain/psychology part (you don’t need to worry about platelets!)</p>
<h2 id="basic-researchdata-analysis-in-r">Basic research/data analysis
in R</h2>
<p>Once you have understood what the HAVEN study is, you can work on
some of the data! Within the folder I have attached a file containing
mainly demographic data (e.g., Age, Sex, Height, Weight) but also
whole-brain lesion data as well. This is contained within an R project
which is a collection of files associated with some analysis/project
that you are running.</p>
<p>Here are a few tasks to start with when setting up the project:</p>
<ul>
<li>Set the working directory to the right location</li>
<li>Load in the <code>participant_data.csv</code> file</li>
<li>Assign the <code>participant_data.csv</code> file to a variable</li>
<li>Print out the current directory in the R console</li>
<li>Run some basic commands such as <code>head</code> and
<code>summary</code> on the data</li>
</ul>
<p>Feel free to Google or ChatGPT how to do each of these!</p>
<p>Before you work on the data, ask yourself:</p>
<p><strong>What questions would you be interested in understanding? Why?
What are the expected results that you would (hopefully)
see?</strong></p>
<p>In doing so, we are creating some basic hypotheses before you do your
analysis. This is a basic principle of science, as we use our existing
knowledge to predict the results and experimentally validate them using
our research.</p>
<ul>
<li>Some of these may be straight forward (e.g., height and weight), but
try to make some informed hypotheses about the lesion data. Do some
research into the effects of lesions on memory function to help with
this.</li>
</ul>
<p>Once you have thought of some questions, think about how you are
going to test them using the data? Maybe you can visualise them? And
then perform some statistical tests? Which graphs work best for each of
your questions? Which statistical tests are you going to use?</p>
<blockquote>
<p>If you’re not sure about these then that’s fine, this is just to put
across that we think about our analyses before we do them, and often
before we get any data at all.</p>
</blockquote>
<p>Once you have an idea of what your research questions are, let me
know and we can work on them together!</p>
<div data-align="center">
<p><img src="https://github.com/sohaamir/placement_materials/blob/main/img/stop.png" width="40%"></p>
</div>
<p><br></p>
<h2 id="using-chatgpt-to-write-code-in-r">Using ChatGPT to write code in
R</h2>
<p>You are most likely to have never programmed before. Up until fairly
recently, that would have made writing your own code to do analyses in R
very difficult. But, in December 2022 OpenAI released ChatGPT. ChatGPT
is incredibly useful for several things, but importantly it will write
code based upon what you tell it using words. This is quite
incredible.</p>
<p>A key thing to remember when working with ChatGPT is that the more
specific you are with your instructions, the better it understands what
you want, and so the output will be more relevant. For example, let’s
say you loaded in the <code>participant_data.csv</code> file, assigned
it to the <code>participant_data</code> variable, and wanted to plot
height vs age. This is the ‘prompt’ that I would give ChatGPT:</p>
<div data-align="center">
<p><img src="https://github.com/sohaamir/placement_materials/blob/main/img/chatgpt_prompt.png" width="70%"></p>
</div>
<p><br></p>
<p>Note that I included:</p>
<ul>
<li>What software I am using (R)</li>
<li>The name of the dataset</li>
<li>The columns within the dataset</li>
</ul>
<p>This is a very simple example, but illustrates my point. You can
build upon this same principle when doing your analyses and
plotting.</p>
<p>Now take a look at the questions in the
<code>Data Analysis Workbook</code> section. Work your way through each
of these, and add your own questions if you would like!</p>
<p>If you want to see the ‘answers’ to these questions, you can open
<code>data_answers.html</code> which is a file containing the code to
run each.</p>
<h2 id="bonus-material-reaction-times-and-accuracy">Bonus material:
Reaction times and accuracy</h2>
<p>If we get this far in the tutorial, then we will do some more
advanced analysis on some more data. Essentially, we had people watch a
video (a 30-minute episode of a sitcom) at about 8am, and then at about
10am they were shown in the MRI scanner two scenes from the episode, to
which they had to select which scene came earlier in the video.</p>
<div data-align="center">
<p><img src="https://github.com/sohaamir/placement_materials/blob/main/img/haven_task.png" width="70%"></p>
</div>
<p><br></p>
<p>You will already understand what this task is trying to measure
(episodic memory) and whilst we are not expecting differences in
accuracy within the group, it could be something of interest.</p>
<blockquote>
<p>Why do you think we not expecting significant differences with
accuracy across the group?</p>
</blockquote>
<p>To analyse this data, you can load the <code>rt_data.csv</code> file
into R. This gives information regarding the percentage accuracy of
participants, as well as the time taken (on average).</p>
<p>Again, some example questions are below, and the template answers to
these questions within the <code>answers.html</code> file.</p>
<h3 id="the-final-test">The final test</h3>
<p>We can make significantly more complicated graphs in R. So far we are
just scratching the surface! As a final example, try to re-create the
graph below:</p>
<div data-align="center">
<p><img src="https://github.com/sohaamir/placement_materials/blob/main/img/final_graph.png" width="80%"></p>
</div>
<p><br></p>
<p>It may seem extremely complicated, but it really isn’t. Try to break
down the graph into individual components:</p>
<ul>
<li>What is being measured each axis?</li>
<li>How is the data grouped?</li>
<li>What additional stuff can we see?</li>
</ul>
<h2 id="data-analysis-workbook">Data Analysis Workbook</h2>
<p>Here is a workbook for you to work your way through. Struggling is
part of programming, feel free to ask others for help. If you really are
stuck, you can either ask me, or take a look at
<code>answers.html</code> which has all of the solutions.</p>
<h3 id="setting-things-up">Setting things up</h3>
<ol type="1">
<li>Set your working directory to be the correct folder</li>
<li>Load in the participant data and assign it to a variable (hint: it’s
a csv file)</li>
<li>Run <code>head</code> and <code>summary</code> on the data</li>
</ol>
<h3 id="basic-data-plotting">Basic data plotting</h3>
<blockquote>
<p>For each of these, think about which type of plot will work best,
before actually writing the code.</p>
</blockquote>
<ol type="1">
<li>Plot age against total lesion volume</li>
<li>Plot total lesion volume for males and females</li>
<li>Plot height and weight for males and females on the same graph
(hint: group by ___)</li>
<li>How is BMI spread across the group? (hint: a specific plot for data
density may be useful here)</li>
<li>How is age spread across the group?</li>
<li>How is the spread of BMI and age different?</li>
</ol>
<h3 id="basic-significance-testing">Basic significance testing</h3>
<p><strong>t-test</strong> 1) How many males and females are in the
group? 2) What is the mean height and weight for males and females? 3)
Are males and females signifciantly different in height or weight?
(hint: run a t-test)</p>
<p><strong>Correlations</strong> 1) Plot the correlation between age and
total lesion volume 2) Is this significant or not? 3) Remove subject 21
and 30, and replot 4) Is this now significant or not?</p>
<p><strong>Separating by sex</strong> 1) Plot on the same graph the
correlation between age and total lesion volume for males and females
separately 2) What do you see?</p>
<h3 id="behavioural-data">Behavioural data</h3>
<p>I’m purposely being more vague with the instructions here…</p>
<ol type="1">
<li>Load the reaction time data and assign it to a variable</li>
<li>Does correct_rt and correct_percent correlate with age?</li>
<li>What about when you separate them by sex?</li>
<li>Does lesion volume or lesion number correlate with correct_rt or
correct_percent?</li>
<li>Remove the outliers (whichever you think are the outliers) and
re-plot 4)</li>
<li>Is it signifcant or insignificant now?</li>
</ol>
<h3 id="the-final-test-1">The final test</h3>
<ol type="1">
<li>Recreate the graph provided above</li>
</ol>
